% This is a template for Ph.D. dissertations in the UCI format.

% All fonts, including those for sub- and superscripts, must be 10 points or larger.
% Recommended sizes are 14-point for chapter headings, 12-point for the main body of text
% and figure/table titles, and 10-point for footnotes, sub- and super-scripts, and text in
% figures and tables.
\documentclass[12pt,fleqn]{ucithesis}

\usepackage[T1]{fontenc}
\usepackage{adjustbox}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{array}
\usepackage{color}
\usepackage{bm}
\usepackage{boxedminipage}
\usepackage{array}
\usepackage{bm}
\usepackage{boxedminipage}
\usepackage{bold-extra}
\usepackage{graphicx}
\usepackage{path}
\usepackage{psfrag}
\usepackage{relsize}
\usepackage{subfigure}
\usepackage{textcomp}
\usepackage{caption}
\usepackage{enumitem}
\usepackage{fixltx2e}

\usepackage{python}   % have to pre-process the jsc bytecode dump
\usepackage{courier}  % need a bfseries ttfamily


\usepackage{url}
\usepackage{todonotes}
\usepackage{alltt}
\usepackage{upquote}
\usepackage{comment}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{multicol}

\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}

\newcommand{\term}{\emph}
\newcommand{\code}{\texttt}

\newcommand{\FlowCore}[0]{\textsc{FlowCore}}
\newcommand{\JitFlow}[0]{\textsc{JitFlow}}

\newcommand{\FlowLabel}[0]{\code{FlowLabel}}
\newcommand{\FlowLabelObject}[0]{\code{FlowLabelObject}}
\newcommand{\FlowLabelRegistry}[0]{\code{FlowLabelRegistry}}

\newcommand{\JSValue}[0]{\code{JSValue}}
\newcommand{\Network}[0]{\code{Network}}
\newcommand{\UnaryExpression}[0]{\textit{UnaryExpression}}
\newcommand{\mjoin}[0]{\code{join}}
\newcommand{\msubsumes}[0]{\code{subsumes}}
\newcommand{\mlabelof}[0]{\code{labelof}}
\newcommand{\pclabel}[0]{\mbox{pc-label}}

\newcommand{\superscript}[1]{\ensuremath{^{\textrm{#1}}}}
\newcommand{\subscript}[1]{\ensuremath{_{\textrm{#1}}}}
\newcommand{\bracketdbl}[1]{\textlbrackdbl \code{#1}\textrbrackdbl}
\newcommand{\codestringdbl}[1]{\code{\textquotedbl #1\textquotedbl}}

\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{backgrounds}
\usetikzlibrary{calc}
\usetikzlibrary{chains}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{decorations.pathmorphing}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{fit}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes}
\usetikzlibrary{shapes.multipart}
\usetikzlibrary{shapes.symbols}
\usetikzlibrary{snakes}

\newcommand{\tikzmark}[1]{\tikz[overlay,remember picture] \coordinate (#1) at (0,0);}
%\newcommand{\tikzmark}[1]{\tikz[overlay,remember picture] \node (#1) {};}

\usepackage{listings}
\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break, subsumes, join, labelof},
  keywordstyle=\color{black}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{black}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[l]{  >}
  morecomment=[s]{/*}{*/},
  commentstyle=\color{gray}\ttfamily,
  stringstyle=\color{black}\ttfamily,
  morestring=[b]',
  morestring=[b]",
}

\lstdefinelanguage{JSCBytecode}{
  otherkeywords={dup\_cflabel, join\_cflabel, popj\_cflabel},
  keywordstyle=\color{black}\bfseries,
  morecomment=[s][\color{gray}\ttfamily]{[\ }{]},
}

\lstnewenvironment{js-embed} {\lstset{
  language=JavaScript,
  basicstyle=\small\ttfamily,
  tabsize=2,
  showspaces=false,
  showtabs=false,
  tabsize=2,
}}{}

\lstnewenvironment{snippet} {\lstset{
  caption=,
  language=JavaScript,
  frame=tb,
  basicstyle=\small\ttfamily,
  captionpos=b,
  aboveskip={1\baselineskip},
}}{}

\lstnewenvironment{jscode} {\lstset{
  language=JavaScript,
  basicstyle=\small\ttfamily,
  tabsize=2,
  showspaces=false,
  showtabs=false,
  tabsize=2,
  frame=tb,
  numbers=left,
  stepnumber=1,
  numberstyle=\tiny,
  numbersep=2pt,
  captionpos=b,
  aboveskip={1.5\baselineskip},
  float=h,
}}{}

\lstnewenvironment{jscbytecode} {\lstset{
  language=JSCBytecode,
  basicstyle=\small\ttfamily,
  tabsize=2,
  showspaces=false,
  showtabs=false,
  frame=tb,
  captionpos=b,
  aboveskip={1.5\baselineskip},
  float=h,
  escapeinside=||,
}}{}

\lstnewenvironment{asmcode} {\lstset{
  keywords={MOV,AND,ADD,OR},
  basicstyle=\small\ttfamily,
  comment=[l]{//},
  commentstyle=\color{gray}\ttfamily,
  showspaces=false,
  showtabs=false,
  frame=tb,
  captionpos=b,
  aboveskip={1.5\baselineskip},
  float=h,
  numbers=left,
  stepnumber=1,
  numberstyle=\tiny,
  numbersep=2pt,
}}{}



% plainpages=false fixes the "duplicate ignored" error with page counters
% Set pdfborder to 0 0 0 to disable colored borders around PDF hyperlinks
\usepackage[numbers]{natbib}
%\usepackage{mycite}
\usepackage[plainpages=false,pdfborder={0 0 0}]{hyperref}
\renewcommand*{\appendixautorefname}{Appendix}
\renewcommand*{\chapterautorefname}{Chapter}
\renewcommand*{\sectionautorefname}{Section}
\renewcommand*{\subsectionautorefname}{Section}

% Uncomment the following line to enable Unicode support. This will allow you
% to enter non-ASCII characters (such as accented characters) directly without
% having to use LaTeX's awkward escape syntax (e.g., \'{e})
% NOTE: You may have to install the ucs.sty package for this to work. See:
% http://www.unruh.de/DniQ/latex/unicode/
% \usepackage[utf8x]{inputenc}

\begin{document}

\thesistitle
{
	Implementing Information Flow in Dynamically Typed Language Virtual Machines:\\
	A Case Study of JavaScript
}

\degreename{Doctor of Philosophy}

% Use the wording given in the official list of degrees awarded by UCI:
% http://www.rgs.uci.edu/grad/academic/degrees_offered.htm
\degreefield{Information and Computer Science}

% Your name as it appears on official UCI records.
\authorname{Eric Hennigan}

% Use the full name of each committee member.
\committeechair{Professor First Last}
\othercommitteemembers
{
	Professor First Last\\
	Professor First Last
}

\degreeyear{2013}

\copyrightdeclaration
{
	{\copyright} {\Degreeyear} \Authorname
}

% If you have previously published parts of your manuscript, you must list the
% copyright holders; see Section 3.2 of the UCI Thesis and Dissertation Manual.
% Otherwise, this section may be omitted.
% \prepublishedcopyrightdeclaration
% {
% 	Chapter 4 {\copyright} 2003 Springer-Verlag \\
% 	Portion of Chapter 5 {\copyright} 1999 John Wiley \& Sons, Inc. \\
% 	All other materials {\copyright} {\Degreeyear} \Authorname
% }

% The dedication page is optional.
\dedications
{
	To my parents...
}

\acknowledgments
{
	I would like to thank...

	You must acknowledge grants and other funding assistance. 

	You may also acknowledge the contributions of professors and friends. 
	
	You also need to acknowledge any publishers of your previous work who have given you permission to incorporate that work into your dissertation. See Section 3.2 of the UCI Thesis and Dissertation Manual.
}

\include{cv}

\thesisabstract
{
% state the problem
% say why it's an interesting problem
% say what your solution achieves
% say what follows from your solution
	The text of the abstract begins here. The text may contain a maximum of 350 words. Include a short statement of the 
problem you studied, a brief exposition of the methods and procedures employed in gathering the data, and a summary of your 
findings. No graphs, charts, or tables may be included.
}

\preliminarypages

\include{motivation}
\include{attack-model}
%\include{related-work}
\include{terminology}
\include{system-design}
\include{label-propagation}
\include{bytecodes}
\include{features}
\include{first-class-labels}
\include{jitflow}
\begin{comment}
\chapter{Policies}
  matrx of trade-offs, issues
  outline chart
  real-world frequency of occurance
  - no-sensitive upgrade vs others
\end{comment}
\include{conclusion}

% These commands fix an odd problem in which the bibliography line
% of the Table of Contents shows the wrong page number.
\clearpage
\phantomsection

%\bibliographystyle{abbrv}
\bibliographystyle{amsalpha}
\bibliography{strdefs,refs,procs}

\include{appendix}

%\todo[inline]{pull citations from acsac-tr, into features?}
%\todo[inline]{feedback the motivation and thirdpartycode sections of 2013.taco into thesis motivation (pick up more cites)}
%\todo[inline]{fix the spacing issue on dup join and popj definitions}
%\todo[inline]{check bitwise-or and bitwise-and}
%\todo[inline]{globally, control flow stack or control-flow stack?}
%\todo[inline]{patch up citations, look at thesis.blg for problems}
%\todo[inline]{remove, 'we', 'us', 'our'}
%\todo[inline]{change earlier lattice picture to mention flowlabel and flowlabelregistry}

\end{document}
